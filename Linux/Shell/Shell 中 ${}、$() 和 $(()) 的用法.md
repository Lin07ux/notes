### ${} 模板变量、切分字符串
这个符号就相当于 Web 开发中常用的模板变量。也就说，Shell 会将这个符号中括号里面的内容作为一个变量进行解析并返回。

比如，有这样一个种场景：要备份 passwd 这个文件，备份到`/mnt/sql_bak/`这个路径下，且文件名问`bak`。

习惯上，Shell 脚本会如下：

```shell
#! /bin/sh

# shell 中变量赋值时 = 号需要和前后连着，不能有空格
bak_path="/mnt/sql_bak/"

cp /etc/passwd $bak_pathbak
```

这时候，Shell 会将`$bak_pathbak`整体作为一个变量，而不是作为变量`$bak_path`和字符串`bak`的组合。

如果要达成我们的目的，有两种方法：

* 一种是借助 Shell 的变量名中不能包含`/`的限制，将变量`$bak_path`的值设置为`/mnt/sql_bak`，然后最终备份的文件路径就成了`$bak_path/bak`。这样就能正常执行了。
* 另一种就是借助`${}`符号来让 Shell 来正确区分变量名，最终，备份的命令就变成了`cp $/etc/passwd ${bak_path}bak`。


这个符号中，还可以设置解析变量的时候指定对字符串进行一些操作：

* 从指定位置开始，正向截取指定长度的字符串，不包含指定位置的字符。

```shell
#! /bin/sh

str1='1234'
str2='abcd'

# 截取 str1 和 str2 字符串中第一个字符后面的两个字符
echo ${str1:1:2} # 23
echo ${str2:1:2} # bc
```

* 截取字符串中指定的字符第一次出现位置后面的所有子字符串。如果指定的字符没有出现，则截取整个字符串。

```shell
#! /bin/bash

str1='1234'
str2='abacad'

# 截取 str1 中字符 5 之后的所有字符，结果为 1234
echo ${str1#*5}

# 截取 str2 中字符 a 值的素有字符，结果为 bacad
echo ${str2#*a}
```


### $() 执行命令并返回结果
这个符号会将括号中的内容作为一个命令去执行，然后将执行的结果返回来代替整个符号及其内容。一般会在需要对一个命令的执行结果进行操作的时候会用到。

比如：kill 掉一个服务进程，但是不知道该进程的 pid，需要先根据一些条件查找到对应的 pid，然后在进行 kill。

一般情况，我们可以分成两步来实现：

* 查找进程的 pid：`ps -ef|grep java|egrep -o "[1-9]{4}"|head -n1`；
* kill 掉该进程：`kill -9 <pid>`。

如果我们想用一条命令就解决，可以使用如下的命令：

```shell
kill -9 $(ps -ef|grep java|egrep -o "[1-9]{4}"|head -n1)
```

这里，`$()`就是用来执行命令，并返回执行的结果的。


### $(()) 计算器
这个符号可以用来数学运算，比如加减乘除运算等。

```shell
echo $((25 * 30))  # 输出：750
```


